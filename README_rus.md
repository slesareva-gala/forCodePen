# levelGaugeXY - _Уровнемеры индексов x и y_
Навигация и визуальное отображение текущuх и наибольших значений индексов массива \[x,y\] 
  
**Причина создания**  
Необходимость в визуализации навигации по табличным данным.

**Цель**  
Визуальное отображение размеров и текущuх значений индексов массива \[x,y\] на минимальном количестве элементов HTML+CSS управляемых JS

**Применение**  
В дизайне, при котором контент формируется на основе форматированных данных, например: json, двумерный массив и т.д.
  
**Суть идеи**  
![the idea of level gauges](https://github.com/slesareva-gala/levelgaugexy/blob/master/levelgaugexy_rus.png "level gauges for x and y indices")

## 1. Полосы для отображения уровнемеров индексов  
Это пространство между границами пары блочных элементов (тегов \<div\>):  
```html 
<div id="base"><div id="work"></div></div>
```
**base** (базовый)    
    Отвечает за размещение на странице и стиль полос уровнемеров.  
    _Стиль CSS:_  
```css 
#base { 
  position: relative; /* ! static */  
  overflow: hidden;
}
```
**work** (рабочий)  
- с шириной равной или меньше ширины базового;
- с длинной равной или меньше длины базового;
- совпадающий не менее чем одной стороной со стороной базового;

_Стиль CSS:_
```css 
#work { 
  position: absolute;
}
```
**Размеры рабочего \<div\> и его позиционирование в базовом \<div\> являются основой для идентификации полос**.

Полоса **X** для отображения уровнемера индекса **x** - это горизонтальное пространство между границами базового \<div\> и рабочего \<div\>:
|  |  |
| --- | --- |
| **расположение:** | вверху или внизу |
| **позиционирование:** | по горизонтали равно смещению влево рабочего \<div\> |
| **ширина:** | равна ширине рабочего \<div\> |
| **высота:** | равна высоте горизонтального пространства между границами базового \<div\> и рабочего \<div\>|
| **визуализируется:** | CSS-стилем базового \<div\>: **_box-shadow: inset_**.... |

Полоса **Y** для отображения уровнемера индекса **y** - это вертикальное пространство между границами базового \<div\> и рабочего \<div\>:
|  |  |
| --- | --- |
| **расположение:** | слева или справа |
| **позиционирование:** | по вертикали равно смещению вниз рабочего \<div\> |
| **ширина:** | равна ширине вертикального пространства между границами базового \<div\> и рабочего \<div\> |
| **высота:** | равна высоте рабочего \<div\> |
| **визуализируется:** | CSS-стилем базового \<div\>: **_box-shadow: inset_**.... |

## 2. Индикаторы индексов  
столбиковая диаграмма, построенная на полосах X и Y CSS-стилем рабочего \<div\>: **_box-shadow_**.

Основые характеристики уровнемеров индексов:
|  |  |
| --- | --- |
| **расположение:** | на соответствующих полосах **X** или **Y** |
| **начало отсчета:** | сторона квадрата пересечения полос **X** и **Y**, прилегающая к полосе |
| **ширина:** | равна ширине соответствующей полосы |
| **длина:** | **расчет:**  |
| |  _для x:_   **x\*w/xMax** |
| |  _для y:_   **y\*h/yMax** |  
| |  **исключение:** |
| |  _при x==xMax==0:_ **w** |
| |  _при y==yMax==0:_ **h** |
| |  где: |
| |  **xMax** - наибольшее значение **x** , _где_ xMax \> 0 |
| |  **yMax** - наибольшее значение **y** , _где_ yMax \> 0 |
| |  **x** - текущее значение x, _где_ 0\<=x\>=xMax-1 |
| |  **y** - текущее значение y, _где_ 0\<=y\>=yMax-1 |
| |  **w** - длина полосы X, соответствующая xMax |
| |  **h** - длина полосы Y, соответствующая yMax |
| **зависимость от индекса:** | **прямая** - при увеличении индекса уровнемер пропорционально увеличивается|  
| |  **обратная** - при увеличении индекса уровнемер пропорционально уменьшается |
  
***
# РЕАЛИЗАЦИЯ: levelGaugeXY
**Уровнемеры индексов x и y:** HTML5 + CSS3 + JS (чистый)

**Имеет следующие достоинства:**  
- написано на чистом javascript, не имеет зависимостей;
- он имеет простой API;
- включает подстройку размеров полос и уровнемеров при масштабировании окна браузера нажатием _Ctrl-wheel_ ;
- навигация по индексам нажатием мышки на полосах;
- изменение индексов вращением колесика мыши над базовым \<div\>:  
  - индекса y - _wheel_ ,  
  - индекса x – _Shift-wheel_.

## 1. Схема подключения:
```html 
   <head>
    <!-- .... -->
    <script src="levelGaugeXY.min.js"></script> 
   </head>
   <body>
     <!-- .... -->
     <div id="base" >     
        <div id="work" >  
          <script> 'use strict';                    
            levelGaugeXY( 'base','work');
          </script>
          <!-- .... -->
        </div>
     </div>
     <!-- .... -->
   </body>
```
## 2. Function levelGaugeXY()
Функция **добавляет** свойство **lgxy** к базовому \<div\> **- объект класса LevelGaugeXY**.  
> **levelGaugeXY**( **idBase**, **idWork** \[ **{ name: value**, ...}** \] )  
где  
  **idBase**  
    id базового \<div\>, например: \'base\'  
  **idWork**  
    id рабочего \<div\>, например: \'work\'  
  **{....}**  
    дополнительные параметры инсталяции, изменюящие значения свойств, установленные по умолчанию  
      **name: value,**  
      имя свойства **name** и значение **value**, например: \{ lenY: 5000,\}

## 3. Методы, изменяющие свойства непосредственно на объекте base.lgxy
### 3.1. Возвращают текущее значение свойства. Может быть изменено с помощью оператора присваивания.

**lenX**  
Количество значений **x**.  
Значение положительное число.  
Значение по умолчанию установлено в 0.

**lenY**  
Количество значений **y**.  
Значение положительное число.  
Значение по умолчанию установлено в 0.

**x**  
Текущее значение **x**.  
Значение в пределах от 0 до lenX.  
Значение по умолчанию установлено в 0.

**y**  
Текущее значение **y**.  
Значение в пределах от 0 до lenY.  
Значение по умолчанию установлено в 0.

**stepx**  
Шаг изменения значений индекса **x** колесиком мыши.  
Значение положительное число.  
Значение по умолчанию установлено в 1.

**stepy**  
Шаг изменения значений индекса **y** колесиком мыши.  
Значение положительное число.  
Значение по умолчанию установлено в 1.

**locationX**  
Размещение полосы **X** .  
Значения: **\'top\'** - вверху, **\'bottom\'** - внизу.  
Дополнительно: смещение рабочего \<div\> в базовом \<div\> при \'top\' - вниз, \'bottom\' – вверх.  
Значение по умолчанию установлено в \'bottom\'.

**locationY**  
Размещение полосы **Y** .  
Значения: **\'left\'** - слева, **\'right\'** - справа.  
Дополнительно: смещение рабочего \<div\> в базовом \<div\> при \'left\' - вправо, \'right\' - влево.  
Значение по умолчанию установлено в \'right\'.

**dependX**  
Зависимость уровнемера **X** от значений **x** .  
Значения:  
\- **\'inverse\'** - обратная зависимость от роста индекса: при увеличении/уменьшении **x** уровнемер **X** уменьшается/увеличивается;  
\- **\'directly\'** - согласовано с ростом индекса: при увеличении/уменьшении **x** уровнемер **X** увеличивается/уменьшается.  
Значение по умолчанию установлено в \'inverse\'.

**dependY**  
Зависимость уровнемера **Y** от значений **y** .  
Значения:  
\- **\'inverse\'** - обратная зависимость от роста индекса: при увеличении/уменьшении **y** уровнемер **Y** уменьшается/увеличивается;  
\- **\'directly\'** - согласовано с ростом индекса: при увеличении/уменьшении **y** уровнемер **Y** увеличивается/уменьшается.  
Значение по умолчанию установлено в \'inverse\'.

**colorXY**  
Цвет полос.  
Значения:  
\- **\'none\'** - отключает оформление тенью;  
\- **\'rgb (...)\'** - оформлять тенью указанным цветом rgb;  
Значение по умолчанию установлено в \'rgb (200,200,200)\'.

**colorlevel**  
Цвет уровнемеров.  
Значение: **\'rgb (...)\'** - оформлять тенью указанным цветом rgb.  
Значение по умолчанию установлено в \'rgb (100,100,100)\'.

### 3.2. Сервисные методы на объекте base.lgxy

**visible()**  
Отобразить (отображать) изменения полос и уровнемеров.  
Установлено по умолчанию.

**hidden()**  
Скрывать (не отображать) изменения полос и уровнемеров.  
Может использоваться в случае изменения группы свойств.

**resize()**  
Обновить полосы и уровномеры согласно текущих размеров базового \<div\> и рабочего \<div\>.

**destroy()**  
Отключить levelGuageXY.  
Скрываются полосы и уровнемеры, отменяются смещения рабочего \<div\>, отключется прослушивание событий levelGaugeXY (\'resize\', \'wheel\', \'click\'), у базового \<div\> удаляется свойство lgxy.

## 4. Событие levelgaugexy  
Формируется на базовом \<div\> при изменении свойств x, y, lenX, lenY.  
Флаги: **bubbles** установлен в **true**, **cancelable** установлен в **false**.

Чтение в **evevt.detail**:  
**.base**  
id базового \<div\>;  
**.work**  
id рабочего \<div\>  
**.x || .y || .lenX || .lenY**  
имя изменненного свойства \'x\' или \'y\' или \'lenX\' или \'lenY\'  
**.value**  
величина для изменения значения свойства  
**.old**  
значение свойства до изменения  
**.new**  
значение свойства после изменения

## Работоспособность проверена на:  
- Google Chrome, Version 83.0.4103.97  
- Firefox Browser, Version 77.0.1  
- Microsoft Edge, Version 83.0.478.45
